def log(f):
    def t(title):
        return def m(msg):
            return log.f(log.t.title, msg)
        end
    end
    log.t = t
    return t
end

# let logger  = _.log(console)
# logger('WARN')('This is a warning')
# logger('INFO')( 'This is an info message')
# logger('ERROR')( 'This is an error message')